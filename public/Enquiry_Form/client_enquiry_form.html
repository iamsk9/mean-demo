<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Contact Us|DM Rao & Co </title>
    <script type="text/javascript" src="Enquiry_Form/js/jquery.min.js"></script>
    <link rel="stylesheet" href="Enquiry_Form/bootstrap/css/bootstrap.min.css" charset="utf-8">
    <script type="text/javascript" src="Enquiry_Form/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="Enquiry_Form/js/chosen.jquery.min.js"></script>
    <link rel="stylesheet" href="Enquiry_Form/css/master.css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="Enquiry_Form/css/chosen.css" media="screen" title="no title" charset="utf-8">
    <style type="text/css">
     .spinner {
        position: fixed;
        top: 50%;
        left: 21%;
        margin-left: -50px; /* half width of the spinner gif */
        margin-top: -50px; /* half height of the spinner gif */
        text-align:center;
        z-index:1234;
        overflow: auto;
        width: 100px; /* width of the spinner gif */
        height: 102px; /*hight of the spinner gif +2px to fix IE8 issue */

    }
    </style>
  </head>

  <body data-spy="scroll">
    <!--Carousel on the page-->
    <div class="container">
    <div class="carousel slide" id="mycarousel" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#mycarousel" data-slide-to="0" class="active"></li>
          <li data-target="#mycarousel" data-slide-to="1"></li>
          <li data-target="#mycarousel" data-slide-to="2"></li>
        </ol>

        <div class="carousel-inner">
          <div class="item active">
            <img src="Enquiry_Form/images/inner-banner.jpg" alt="sk" class="img-responsive logo3"/>
          </div>
          <div class="item">
            <img src="Enquiry_Form/images/inner-banner2.jpg" alt="sk" class="img-responsive logo3"/>
          </div>
          <div class="item">
            <img src="Enquiry_Form/images/inner-banner3.jpg" alt="sk" class="img-responsive logo3"/>
          </div>
        </div>
        <a href="#mycarousel" class="carousel-control left" data-slide="prev">
      <span class="icon-prev"></span>
      </a>

      <a href="#mycarousel" class="carousel-control right" data-slide="next">
      <span class="icon-next"></span>
      </a>
    </div><br><br>
    <center><h2>D.M.Rao & Co</h2></center>
    <center><h3>Contact Us</h3></center>
    <div class="row">
      <div class="col-md-6">
          <table width="80%" id="details">
              <caption>Registered Office</caption>
            <tr>
              <td rowspan="3"><span class="glyphicon glyphicon-map-marker logo3"></span></td>
              <td>305, 2nd Floor, GVK Plaza</td>
            </tr>
            <tr>
              <td>Seethammapeta</td>
            </tr>
            <tr>
              <td>Visakhapatnam - 530016 <br></td>
            </tr>
            <tr>
              <td><span class="glyphicon glyphicon-phone logo3"></span></td>
              <td>+91 986 61 56 365</td>
            </tr>
            <tr>
              <td><span class="glyphicon glyphicon-envelope logo3"></span></td>
              <td>madhu@dmrao.com</td>
            </tr>
          </table>
      </div>
      <div class="col-md-6">
          <table width="80%">
              <caption>Corporate Office</caption>
            <tr>
              <td rowspan="3"><span class="glyphicon glyphicon-map-marker logo3"></span></td>
              <td>9th Floor, Raghava Ratna Towers</td>
            </tr>
            <tr>
              <td>Chirag Ali Lane, Abids</td>
            </tr>
            <tr>
              <td>Hyderabad - 5300001 <br></td>
            </tr>
            <tr>
              <td><span class="glyphicon glyphicon-phone logo3"></span></td>
              <td>+91 888 67 56 222</td>
            </tr>
          </table>
      </div>
      </div>
    </div>
<br>

    <!--Contact Details on the page-->
      <div class="container bg-grey" id="contact">
        <br><br><br>
        <div class="container-fluid">
        <div class="row form-group">
          <div class="col-md-4">
            <div id="spinner" class="spinner" style="display:none;">
                <img id="img-spinner" src="Enquiry_Form/images/ajax-loader.gif" alt="Loading"/>
            </div>
            <div id="clientStatus" style="text-align:center;font-size:20px;"></div>
            <center><h3>Enquiry Form</h3></center>
            <input type="text" name="name" placeholder="Name" class="form-control" required>
            <div id="ReqMessagen"  style="display:none;color:red;margin-left:5px;">This is a required field</div><br>
            <input type="text" name="company" placeholder="Company" class="form-control" required>
            <div id="ReqMessagec"  style="display:none;color:red;margin-left:5px;">This is a required field</div><br>
            <input type="email" name="email" placeholder="Email" class="form-control" required>
            <div id="emailErrMessage"  style="display:none;color:red;margin-left:5px;">enter valid email</div>
            <div id="ReqMessageEmail"  style="display:none;color:red;margin-left:5px;">This is a required field</div><br>
            <input type="text" name="mobile" placeholder="Mobile No" class="form-control" required>
            <div id="mobileErrMessage"  style="display:none;color:red;margin-left:5px;">enter valid mobile number</div>
            <div id="ReqMessageMobile"  style="display:none;color:red;margin-left:5px;">This is a required field</div><br>
            <input type="text" name="subject" placeholder="Subject" class="form-control"><br>
            <textarea name="comment" id="comment" rows="5" class="form-control comment" placeholder="Comments"></textarea><br>
            <select name="tasks" style="width:100%;" data-placeholder="Select Some Tasks"> <!--  class="chzn-select" multiple="true" -->
              <option value="1">Registration of Proprietership Firm</option>
              <option value="2">Registration of Partnership Firm</option>
              <option value="3">Registration of LLP Firm</option>
              <option value="4">Government Undertaking</option>
              <option value="5">Registration of a Public Limited Company</option>
              <option value="6">Registration of a Private Limited Company</option>
              <option value="7">Section 25 Company</option>
              <option value="8">Registered Society</option>
              <option value="9">Trust</option>
              <option value="10">HUF Firms</option>
              <option value="11">Drug License</option>
              <option value="12">VAT & CST Proprietership</option>
              <option value="13">VAT & CST Partnership Firm</option>
              <option value="14">VAT & CST Private Limited/Limited companies</option>
            </select><br>
            <div class = "checkbox">
              <label><input type = "checkbox" > Send Me a Copy</label>
            </div><br><br>
            <button id = "submit" type="button" class="btn btn-success">Submit</button><br>
            <hr width="1" size="500">
          </div>
          <!--office location on the page-->
          <div class="col-md-8">
            <center><h3>Office Location</h3></center>
            <div id="googleMap" style="height:400px; width:100%;"></div>
          <!-- Add Google Maps -->
          <!--<script src="http://maps.googleapis.com/maps/api/js"></script>-->
          <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
          <script>
          var locations = [
                ['Hyderabad Corporate Office', 17.394358, 78.476849],
                ['Visakhapatnam Registered Office', 17.730884, 83.306582],
              ];

              var map = new google.maps.Map(document.getElementById('googleMap'), {
                zoom: 6,
                center: new google.maps.LatLng(17.394358, 78.476849),
                mapTypeId: google.maps.MapTypeId.ROADMAP
              });

              var infowindow = new google.maps.InfoWindow();

              var marker, i;

              for (i = 0; i < locations.length; i++) {
                marker = new google.maps.Marker({
                  position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                  map: map
                });

                google.maps.event.addListener(marker, 'click', (function(marker, i) {
                  return function() {
                    infowindow.setContent(locations[i][0]);
                    infowindow.open(map, marker);
                  }
                })(marker, i));
              }
          </script>
        </div>
      </div>
    </div>

  </div>
      <br><br>
      <!--Footer on the page-->
      <div class="container">
        <hr>
        <footer class="container" >
          <p>&copy;2016. All Rights Reserved by DM Rao & Co.</p>
        </footer>
      </div>
      <script type="text/javascript">
        // $(document).ready(function(){
        //     $("#spinner").bind("ajaxSend", function() {
        //         $(this).show();
        //     }).bind("ajaxStop", function() {
        //         $(this).hide();
        //     }).bind("ajaxError", function() {
        //         $(this).hide();
        //     });
         
        // });
</script>
      <script>
          $(window).load(function(){
            var email;
            var mobile;
            $('input[name="email"]').focus(function(){
              $('#emailErrMessage').hide();
              $('#ReqMessageEmail').hide();
            });
            $('input[name="mobile"]').focus(function(){
              $('#mobileErrMessage').hide();
              $('#ReqMessageMobile').hide();
            });
            $('input[name="name"]').focus(function(){
              $('#ReqMessagen').hide();
            });
            $('input[name="company"]').focus(function(){
              $('#ReqMessagec').hide();
            });
            
            $('input[name="email"]').blur(function(){
                email = $('input[name="email"]').val();
                var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
               
                if(!emailReg.test( email ) && email != ""){
                     $('#emailErrMessage').show();
                     email = "invalid";
                }

            });
            $('input[name="mobile"]').blur(function(){
                mobile = $('input[name="mobile"]').val();
                pattern = /^[7-9][0-9]{9}$/;
                 if (!pattern.test(mobile) && mobile != "") {
                    $('#mobileErrMessage').show();
                     mobile = "invalid";
                 }
            });
             $('#submit').click(function(){
               var a=$('input[name="name"]').val();
               var b=$('input[name="company"]').val();
               var c=$('input[name="email"]').val();
                 var d=$('input[name="mobile"]').val();
                 if(a == null || a == ""){
                   $('#ReqMessagen').show();
                }
                if(b == null || b == ""){
                   $('#ReqMessagec').show();
                }
                if(c == null || c == ""){
                   $('#ReqMessageEmail').show();
                }
                if(d == null || d == ""){
                   $('#ReqMessageMobile').show();
                }
                if( mobile=="invalid" || email=="invalid")
                {
                 alert("Enter valid details");
                   return false; 
                }

                 if (a==null || a=="" || b==null || b=="" || c=="" ||  d=="")
                {
                  alert("Please Fill All Required Field");
                   return false;
               }
               $('#spinner').show();
                var clientEnquiryDetails = {
                  name : $('input[name="name"]').val(),
                  company : $('input[name="company"]').val(),
                  email : $('input[name="email"]').val(),
                  mobile : $('input[name="mobile"]').val(),
                  subject : $('input[name="subject"]').val(),
                  comment : $('textarea[name="comment"]').val(),
                  task : $('select[name="tasks"]').val()
                }
                var res = $('input[type="checkbox"]:checked');
                if(res.length > 0)
                   clientEnquiryDetails.check = "yes";
                else
                   clientEnquiryDetails.check = "no";
                 $.ajax({
                    url : "/api/clientform",
                     type : "POST",
                     dataType : "JSON",
                     contentType : "application/JSON",
                     data : JSON.stringify(clientEnquiryDetails),
                     success : function(result){
                       emptyFields();
                       $('#clientStatus').text("Your Form has been submitted successfully");
                       $('#spinner').hide();
                     },
                     error: function(){
                      alert("Unexpected error, Please try again");
                      $('#spinner').hide();
                     }
                });
               function emptyFields(){
                // empty fields after client register
                        //$('#emailErrMessage').hide();
                        $('input[name="name"]').val("");
                        $('input[name="company"]').val("");
                        $('input[name="email"]').val("");
                        $('input[name="mobile"]').val("");
                        $('input[name="subject"]').val("");
                        $('textarea[name="comment"]').val("");
                        $('select[name="tasks"]').val("");
               }
            });
          });
      </script>
      <!--Script for the chosen option menu-->
      <script type="text/javascript">
        $(function() {
          $(".chzn-select").chosen();
        });
        </script>
  </body>
</html>